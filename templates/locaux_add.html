{% extends "base.html" %}
{% block title %}Add/Edit Locaux{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>{{ locaux.nom if locaux else 'Add New Locaux' }}</h2>
    <div class="card shadow p-4">
        <form method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            
            <div class="row mb-3">
                <div class="col-md-6">
                    <label class="form-label">Zone</label>
                    <select name="zone_id" class="form-select" required>
                        <option value="">-- Select Zone --</option>
                        {% for z in zones %}
                            <option value="{{ z.id }}" {% if locaux and locaux.zone_id == z.id %}selected{% endif %}>{{ z.nom }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-6">
                    <label class="form-label">Site</label>
                    <select name="site_id" class="form-select" required>
                        <option value="">-- Select Site --</option>
                        {% for s in sites %}
                            <option value="{{ s.id }}" {% if locaux and locaux.site_id == s.id %}selected{% endif %}>{{ s.nom }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-4">
                    <label class="form-label">BÃ¢timent</label>
                    <input type="text" name="batiment" class="form-control" value="{{ locaux.batiment if locaux else '' }}">
                </div>
                <div class="col-md-4">
                    <label class="form-label">Etage</label>
                    <input type="text" name="etage" class="form-control" value="{{ locaux.etage if locaux else '' }}">
                </div>
                <div class="col-md-4">
                    <label class="form-label">Nom</label>
                    <input type="text" name="nom" class="form-control" required value="{{ locaux.nom if locaux else '' }}">
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-4">
                    <label class="form-label">Code</label>
                    <input type="text" name="code" class="form-control" value="{{ locaux.code if locaux else '' }}">
                </div>
                
                <div class="col-md-4">
                    <label class="form-label">Commentaires</label>
                    <input type="text" name="commentaires" class="form-control" value="{{ locaux.commentaires if locaux else '' }}">
                </div>
            </div>

            <button type="submit" class="btn btn-success">{{ 'Update' if locaux else 'Add' }}</button>
            <a href="{{ url_for('locaux') }}" class="btn btn-secondary">Cancel</a>
        </form>
    </div>
</div>
{% endblock %}